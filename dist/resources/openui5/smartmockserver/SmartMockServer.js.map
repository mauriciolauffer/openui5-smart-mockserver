{"version":3,"file":"SmartMockServer.js","names":["sap","ui","define","library","Log","$","MockServer","SmartMockServer","prototype","_generateDataFromEntityOriginal","_generateDataFromEntity","oEntityType","iIndex","mComplexTypes","entity","apply","this","arguments","_generateDataWithSmartRules","name","entityName","_smartRules","entityWithSmartData","structuredClone","_generateDataFromEntityWithSapSemanticsAnnotations","_generateDataFromEntityWithSmartMockServerAnnotations","_generateDataFromEntityWithSmartRules","err","error","_hasSmartRulesEntity","propertyName","_hasSmartRulesEntityProperty","_generatePropertyValueWithSmartRules","_getEntityPropertiesWithSapSemanticsAnnotations","entityQuery","propertyQuery","_oMetadata","find","propertiesWithSemantics","length","each","index","propertyXml","property","fakerMethod","_getFakerMethodFromSapSemantics","attr","_callFakerMethod","bind","sapSemantics","mapping","SAP_SEMANTICS_TO_FAKER_METHOD_MAPPING","_getEntityPropertiesWithSmartMockServerAnnotations","propertyFound","_getSmartRulesEntityProperty","faker","helpers","fake","_getSmartRulesEntity","filter","item","entityFound","properties","setSmartRules","smartRules","messageType","REQUEST","MOCK_RESPONSE","REGISTER_MOCK_SERVER","START_MOCK_SERVER","STOP_MOCK_SERVER","UNKNOWN_MESSAGE","getAll","_aServers","registerServiceWorker","filename","servers","server","start","stop","navigator","serviceWorker","addEventListener","onServiceWorkerMessage","register","then","prefilterSyncAjaxRequests","getMockServerRegisterPayload","sendMessageToServiceWorker","catch","isServiceWorkerStarted","_isServiceWorkerStarted","startServiceWorker","payload","rootUri","getRootUri","active","stopServiceWorker","ajaxPrefilter","options","originalOptions","jqXHR","async","getMockServerByRootUri","url","capturedRequest","method","type","mockServer","path","mockRequest","getMockRequest","beforeSend","settings","replace","window","location","origin","complete","rootUriRegxp","RegExp","test","getRequests","req","toLowerCase","isServiceRootUri","toString","evt","data","captureRequest","mockResponse","ports","postMessage","JSON","stringify","Promise","resolve","reject","parse","Error","xhr","Object","assign","args","exec","slice","respond","respondFile","respondJSON","respondXML","response","map","requests","request","newRequest","isRegExp","pathString","pathRegExpBase","substring","indexOf","lastIndexOf","ready","swRegistration"],"sources":["SmartMockServer-dbg.js"],"mappings":"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"}